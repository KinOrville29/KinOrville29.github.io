[{"content":"","date":"2025 年 10 月 7 日","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"","date":"2025 年 10 月 7 日","externalUrl":null,"permalink":"/","section":"葉のBlog","summary":"","title":"葉のBlog","type":"page"},{"content":" 前言 # Sunshine和Moonlight是一对开源的游戏串流组合，可以让你在不同设备上流畅地玩主机游戏。Sunshine作为主机端的服务端，Moonlight作为客户端的接收端。\n系统要求 # 主机端（运行Sunshine） # Windows/Linux/macOS 支持硬件编码的显卡（NVIDIA/AMD/Intel） 稳定的网络连接（有线网络更佳） 客户端（运行Moonlight） # Windows/macOS/Linux/Android/iOS 支持硬件解码的设备 5GHz WiFi或有线网络 安装步骤 # 1. 安装Sunshine（主机端） # Windows系统 # # 方法一：使用安装包 # 从GitHub releases页面下载最新的Sunshine安装包 # https://github.com/LizardByte/Sunshine/releases # 方法二：使用winget（推荐） winget install LizardByte.Sunshine Linux系统 # # Ubuntu/Debian wget https://github.com/LizardByte/Sunshine/releases/download/v0.21.0/sunshine-ubuntu-22.04_0.21.0_amd64.deb sudo dpkg -i sunshine-*.deb # Arch Linux yay -S sunshine macOS系统 # # 使用Homebrew brew install sunshine 2. 配置Sunshine # 首次运行配置 # # 启动Sunshine服务 sudo sunshine # 访问Web配置界面 # 在浏览器中打开：https://localhost:47990 基本设置 # 在Web界面中配置：\nPIN码认证：设置一个PIN码用于客户端连接 分辨率：设置串流分辨率（建议1080p或1440p） 帧率：60fps或120fps 码率：根据网络状况调整（建议20-50 Mbps） 高级配置 # 编辑Sunshine配置文件：\n# 配置文件位置 # Windows: %APPDATA%\\sunshine\\sunshine.conf # Linux: ~/.config/sunshine/sunshine.conf # 常用配置项 [min] port = 47989 webserver_port = 47990 external_ip = 你的公网IP [amd] encoder = amd [nvidia] encoder = nvidia [intel] encoder = qsv 3. 安装Moonlight（客户端） # Windows客户端 # # 从Microsoft Store安装 # 或从GitHub下载：https://github.com/moonlight-stream/moonlight-qt/releases Android客户端 # # 从Google Play商店搜索\u0026#34;Moonlight Game Streaming\u0026#34; iOS客户端 # # 从App Store搜索\u0026#34;Moonlight Game Streaming\u0026#34; Linux客户端 # # Ubuntu/Debian sudo apt install moonlight-qt # Arch Linux sudo pacman -S moonlight-qt 4. 客户端连接配置 # 发现主机 # 打开Moonlight客户端 点击\u0026quot;+\u0026ldquo;添加主机 输入主机的IP地址或让应用自动发现 配对连接 # 在Moonlight中输入Sunshine显示的PIN码 完成配对过程 选择要串流的应用或游戏 网络配置 # 端口转发（如需远程访问） # # 需要在路由器中转发以下端口： # TCP: 47984, 47989, 48010 # UDP: 47998, 47999, 48000, 48002, 48010 防火墙设置 # # Windows防火墙 netsh advfirewall firewall add rule name=\u0026#34;Sunshine\u0026#34; dir=in action=allow protocol=TCP localport=47984,47989,48010 netsh advfirewall firewall add rule name=\u0026#34;Sunshine\u0026#34; dir=in action=allow protocol=UDP localport=47998,47999,48000,48002,48010 # Linux ufw sudo ufw allow 47984,47989,48010/tcp sudo ufw allow 47998,47999,48000,48002,48010/udp 优化设置 # 图形设置 # # Sunshine配置优化 [stream] hevc_mode = 1 av1_mode = 0 min_threads = 1 pacer_period = 10 # 编码设置 [video] encoder = nvidia # 根据显卡选择 bitrate = 30000 framerate = 60 slices = 1 音频设置 # [audio] backend = wasapi # Windows # backend = pulse # Linux channels = 2 sink = 默认设备 故障排除 # 常见问题解决 # 连接失败 # # 检查服务状态 sudo systemctl status sunshine # Linux sc query sunshine # Windows # 检查端口监听 netstat -an | findstr 47989 # Windows ss -tulpn | grep 47989 # Linux 性能问题 # # 降低码率设置 # 关闭HEVC编码 # 检查网络延迟 ping 目标IP地址 音频问题 # # 检查音频设备 # 重新选择音频后端 # 更新音频驱动程序 高级功能 # 自定义应用 # 在Sunshine Web界面中添加自定义应用：\n{ \u0026#34;name\u0026#34;: \u0026#34;自定义游戏\u0026#34;, \u0026#34;cmd\u0026#34;: \u0026#34;C:\\\\Games\\\\MyGame.exe\u0026#34;, \u0026#34;prep-cmd\u0026#34;: [ { \u0026#34;do\u0026#34;: \u0026#34;start\u0026#34;, \u0026#34;cmd\u0026#34;: \u0026#34;C:\\\\Utilities\\\\GameOptimizer.exe\u0026#34; } ] } 脚本自动化 # # 启动脚本示例 #!/bin/bash # 启动Sunshine并优化系统设置 echo performance | sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor sudo sunshine \u0026amp; 总结 # Sunshine + Moonlight组合提供了高质量、低延迟的游戏串流体验。通过正确的配置和网络优化，你可以在任何支持Moonlight的设备上享受主机游戏的乐趣。\n","date":"2025 年 10 月 7 日","externalUrl":null,"permalink":"/posts/%E7%94%A8sunshine%E5%92%8Cmoonlight%E5%AE%9E%E7%8E%B0%E4%B8%B2%E6%B5%81/","section":"Posts","summary":"","title":"使用Sunshine和Moonlight实现串流","type":"posts"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"}]
